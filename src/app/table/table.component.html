<div class="content">
  <div class="panel panel-default">
    <div class="panel-body">
      <div class="list-op" id="list_op">
        <div class="form-inline">
          <div class="form-group">
            <label class="state">状态：</label>
            <select>
              <option *ngFor="let project of projects">{{project.state}}</option>
            </select>
          </div>
          <div class="form-group">
            <label >创建时间：</label>
            <div class="input-group" >
              <input class="form-control " placeholder="yyyy-mm-dd"
                       name="dp1" [(ngModel)]="newItem.startTime" ngbDatepicker #d1="ngbDatepicker">
              <div class="input-group-addon" (click)="d1.toggle()" >
                <i class="fa fa-calendar" aria-hidden="true" ></i>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label class="endtime">至：</label>
            <div class="input-group">
              <input class="form-control " placeholder="yyyy-mm-dd"
                     name="dp2" [(ngModel)]="newItem.endTime" ngbDatepicker #d2="ngbDatepicker">
              <div class="input-group-addon" (click)="d2.toggle()" >
                <i class="fa fa-calendar" aria-hidden="true" ></i>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label class="tablename">表名：</label>
            <input type="text"  class="form-control" placeholder="项目创建/修改的表名">
          </div>
          <div class="form-group">
            <label >参与人：</label>
            <input type="text"  class="form-control" placeholder="项目成员名称">
          </div>
        </div>
        <div class="form-inline">
          <div class="form-group">
            <label >应用系统：</label>
            <select>
            <option *ngFor="let project of projects">{{project.sysname}}</option>
            </select>
          </div>
          <div class="form-group">
            <label >应用模块：</label>
            <select>
              <option *ngFor="let project of projects">{{project.modulename}}</option>
            </select>
          </div>
          <div class="form-group">
            <label >项目ID：</label>
            <input type="text"  class="form-control" />
          </div>
          <div class="form-group">
              <label >项目名：</label>
              <input type="text"  class="form-control" />
          </div>
          <div class="form-group">
              <button type="button" class="btn btn-secondary " >
                <span class="fa fa-search " aria-hidden="true"></span>查询
              </button>
              <span>|</span>
              <button type="button" class="btn btn-secondary " >
                <span class="fa fa-refresh" aria-hidden="true" ></span>重置
              </button>
                <span>|</span>
              <button type="button" class="btn btn-secondary " data-toggle="modal" data-target="#projectModal" (click)="setTitle('新增')">
                <span class="fa fa-plus" aria-hidden="true" ></span>新增
              </button>
          </div>
        </div>
      </div>
      <table class="table table-striped table-hover" >
        <tr>
          <td>项目ID</td>
          <td>项目名称</td>
          <td>模块名称</td>
          <td>状态</td>
          <td>创建者</td>
          <td>负责人</td>
          <td>创建时间</td>
          <td>最后修改时间</td>
          <td>描述</td>
          <td>操作</td>
        </tr>
        <tr  *ngFor="let project of projects | slice: start:end ">
          <td>{{project.id}}</td>
          <td>{{project.projectname}}</td>
          <td>{{project.modulename}}</td>
          <td>{{project.state}}</td>
          <td>{{project.creatror}}</td>
          <td>{{project.principal}}</td>
          <td>{{project.gmtCreate}}</td>
          <td>{{project.gmtModified}}</td>
          <td>{{project.comments}}</td>
          <td>
            <a class="action" data-toggle="modal"   data-target="#projectModal" (click)="setTitle('查看')" >
              <i class="fa fa-eye" data-toggle="tooltip" title="查看"></i>
            </a>
            <a class="action" data-toggle="modal"  data-target="#projectModal" (click)="setTitle('修改')" >
              <i class="fa fa-edit" data-toggle="tooltip" title="修改"></i>
            </a>
            <a class="action" >
              <i class="fa fa-trash" data-toggle="tooltip" title="删除"></i>
            </a>
            <a class="action" routerLink="./project" routerLinkActive="active" >
              <i class="fa fa-newspaper-o" data-toggle="tooltip" title="查看项目详情" ></i>
            </a>
            <a class="action" >
              <i class="fa fa-snowflake-o" data-toggle="tooltip" title="冻结项目"></i>
            </a>
          </td>
        </tr>
      </table>
      <ngb-pagination [collectionSize]="totalItems" [pageSize]="pageSize" [(page)]="page" [boundaryLinks]="true" [maxSize]="7"
                      [rotate]="true" (pageChange)="pagination(page)">

      </ngb-pagination>
    </div>
  </div>

  <!--modal-->
  <!--项目modal-->
  <div class="modal fade" id="projectModal" tabindex="-1" role="dialog" >
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">{{title}}</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        </div>
        <div class="modal-body">
          <form class="form-horizontal">
            <div class="form-group row">
              <label for="projectName" class="col-sm-2 control-label ">项目名称：</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="projectName" >
              </div>
            </div>
            <div class="form-group row">
              <label  for="moduleName" class="col-sm-2 control-label">模块名称:</label>
              <div class="col-sm-7">
                <input type="text" class="form-control" id="moduleName" >
              </div>
              <button class="btn btn-secondary col-sm-2" data-toggle="modal" data-target="#moduleModal" [disabled]="canClick">
                <span class="fa fa-plus" aria-hidden="true"></span>选择模块
              </button>
              <!--<button class="btn btn-success col-sm-2"  data-toggle="modal"  data-target="#moduleModal">选择模块</button>-->
            </div>
            <div class="form-group row">
              <label for="sysDiscribe" class="col-sm-2 control-label">描述：</label>
              <div class="col-sm-10">
                <textarea  class="form-control" id="sysDiscribe"  row="10" placeholder="请输入项目的描述说明，长度不可大于100个字符"></textarea>
              </div>
            </div>
            <div class="form-group row">
              <label for="memberName" class="col-sm-2 control-label">项目成员:</label>
              <div class="col-sm-7">
                <input type="text" class="form-control" id="memberName" >
                <!--<button class="btn btn-light"  data-toggle="modal"  data-target="#memberModal">选择成员</button>-->
              </div>
              <button class="btn btn-secondary col-sm-2 " data-toggle="modal" data-target="#memberModal" [disabled]="canClick">
                <span class="fa fa-plus" aria-hidden="true"></span>选择成员
              </button>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary ">保存</button>
          <button type="button" class="btn btn-light cancle" data-dismiss="modal">取消</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

  <!--选择模块modal-->
  <div class="modal fade" id="moduleModal" tabindex="-1" role="dialog" >
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">选择模块</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        </div>
        <div class="modal-body">
          <form class="form-horizontal">
            <div class="form-group row">
              <label for="projectName" class="col-sm-2 control-label ">应用系统：</label>
              <div class="col-sm-10">
                <select class="form-control">
                  <option *ngFor="let project of projects">{{project.sysname}}</option>
                </select>
              </div>
            </div>
            <div class="form-group row">
              <label  class="col-sm-2 control-label">模块名称：</label>
              <div class="col-sm-10">
                <select class="form-control">
                  <option *ngFor="let project of projects">{{project.modulename}}</option>
                </select>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary ">保存</button>
          <button type="button" class="btn btn-light cancle" data-dismiss="modal">取消</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->




  <!--选择成员的modal-->
  <div class="modal fade" id="memberModal" tabindex="-1" role="dialog" >
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">选择项目成员</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        </div>
        <div class="modal-body">
          <div class="panel panel-default">
            <div class="panel-body">
              <form class="form-inline modalsearch">
                <div class="form-group">
                  <label for="name">姓名：</label>
                  <input type="text" class="form-control" id="name" >
                </div>
                <button type="submit" class="btn btn-secondary search">
                  <span class="fa fa-search" aria-hidden="true"></span>查询
                </button>
              </form>
              <table class="table table-striped table-bordered table-hover">
                <tr>
                  <td><input type="checkbox" [(ngModel)]="isChecked" /></td>
                  <td>姓名</td>
                  <td>角色</td>
                  <td>EMAIL</td>
                  <td>是否为负责人</td>
                </tr>
                <tr *ngFor="let user of users | slice: start:end ">
                  <td><input type="checkbox" [checked]="isChecked" /></td>
                  <td>{{user.name}}</td>
                  <td>{{user.role}}</td>
                  <td>{{user.email}}</td>
                  <td><input type="checkbox" /></td>
                </tr>
              </table>
              <ngb-pagination [collectionSize]="totalItems" [pageSize]="pageSize" [(page)]="page" [boundaryLinks]="true" [maxSize]="7"
                              [rotate]="true" (pageChange)="pagination(page)">

              </ngb-pagination>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary">确定</button>
          <button type="button" class="btn btn-light cancle" data-dismiss="modal">取消</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

</div>
<router-outlet></router-outlet>
